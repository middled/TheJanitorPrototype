<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="bumpTo" sid="5518815904161405" static="0" type="number">0</variable>
        <variable constant="0" name="holdOpositeTimer" sid="8938608641016863" static="0" type="number">0</variable>
        <variable constant="0" name="holdTimer" sid="2461311793703965" static="0" type="number">0</variable>
        <variable constant="0" name="bumping" sid="6134143817321916" static="0" type="number">0</variable>
        <variable constant="0" name="following" sid="7623326278787537" static="0" type="number">0</variable>
        <event-group description="" sid="9002456867769247" title="Initialization">
            <sub-events>
                <event-block sid="9360350039673384">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="4679185963968207" type="System" />
                    </conditions>
                    <actions />
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="631818763560375" title="Game Controller ">
            <sub-events>
                <event-block sid="7868486690699418">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="8505178938670868" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="2600167637413001" type="debug_text">
                            <param id="0" name="X">ViewportLeft(&quot;Layer 1&quot;) + 10</param>
                            <param id="1" name="Y">debug_text.Y</param>
                        </action>
                        <action id="0" name="Set text" sid="8403820518822593" type="debug_text">
                            <param id="0" name="Text">bumping &amp; &quot; &quot; &amp; following</param>
                        </action>
                    </actions>
                </event-block>
                <event-block disabled="1" sid="5450152055627478">
                    <conditions>
                        <condition id="-4" name="Is outside layout" sid="1276219039971941" type="player" />
                    </conditions>
                    <actions>
                        <action id="-26" name="Restart layout" sid="6738484116236032" type="System" />
                    </actions>
                </event-block>
                <event-block sid="5933210373904847">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="2031308316316353" type="System">
                            <param id="0" name="Variable">following</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Scroll to X" sid="7424049703622099" type="System">
                            <param id="0" name="X">lerp(scrollx,player.X + WindowWidth /4, dt)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="8209380679694605">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="9395797317452921" type="System">
                            <param id="0" name="Variable">following</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">-1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Scroll to X" sid="6345269125749417" type="System">
                            <param id="0" name="X">lerp(scrollx,player.X - WindowWidth /4, dt)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4527968265839636">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="6120394107221869" type="System">
                            <param id="0" name="Variable">following</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6072567870328713">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="5199590946862233" type="System">
                                    <param id="0" name="First value">player.X</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Second value">ViewportLeft(&quot;Layer 1&quot;) + 270</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="1621723898387783" type="System">
                                    <param id="0" name="Variable">bumpTo</param>
                                    <param id="1" name="Value">scrollx - 270</param>
                                </action>
                                <action id="-9" name="Set value" sid="3376457413812436" type="System">
                                    <param id="0" name="Variable">bumping</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="8151847286972709">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="292435084669244" type="System">
                                    <param id="0" name="First value">player.X</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">ViewportRight(&quot;Layer 1&quot;) -270</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="1574935276095047" type="System">
                                    <param id="0" name="Variable">bumpTo</param>
                                    <param id="1" name="Value">scrollx+ 270</param>
                                </action>
                                <action id="-9" name="Set value" sid="1258865527399183" type="System">
                                    <param id="0" name="Variable">bumping</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="8153223563679127">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="3957425531695104" type="System">
                            <param id="0" name="Variable">bumping</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Scroll to X" sid="3281781706697102" type="System">
                            <param id="0" name="X">lerp(scrollx,bumpTo, dt)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="7026614403293972">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="9690684437241325" type="System">
                                    <param id="0" name="First value">abs(scrollx - bumpTo)</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Second value">10</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="2215731005882051" type="debug_text">
                                    <param id="0" name="Text">bumping &amp; &quot; &quot; &amp; following</param>
                                </action>
                                <action id="-9" name="Set value" sid="4888304625836407" type="System">
                                    <param id="0" name="Variable">bumping</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="253079581919519" title="Animation controll">
            <sub-events>
                <event-block sid="946211047827375">
                    <conditions>
                        <condition behavior="Platform" id="7" name="On stopped" sid="997728552643288" type="player" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="6248766518769492" type="player">
                            <param id="0" name="Animation">&quot;Default&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="576569063882891">
                    <conditions>
                        <condition behavior="Platform" id="2" name="Is on floor" sid="9495879016676462" type="player" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="4028943852382583">
                            <conditions>
                                <condition behavior="Platform" id="1" name="Compare speed" sid="8634828483893263" type="player">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="Speed">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="4848411194620854">
                                    <conditions>
                                        <condition behavior="Platform" id="1" name="Compare speed" sid="926543464065658" type="player">
                                            <param id="0" name="Comparison">3</param>
                                            <param id="1" name="Speed">50</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="768760548694983" type="player">
                                            <param id="0" name="Animation">&quot;Walking&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="292335223005727">
                                    <conditions>
                                        <condition behavior="Platform" id="1" name="Compare speed" sid="7106362925554598" type="player">
                                            <param id="0" name="Comparison">5</param>
                                            <param id="1" name="Speed">100</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="9022492208976088" type="player">
                                            <param id="0" name="Animation">&quot;Running&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action id="6" name="Set speed" sid="1621077613281601" type="player">
                                            <param id="0" name="Speed">(player.Platform.Speed/330) * 20</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="3383704945754156">
                            <conditions>
                                <condition id="-22" name="Else" sid="8816244939480727" type="System" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="4179560726347213" type="player">
                                    <param id="0" name="Animation">&quot;Default&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="7879647596792671">
                    <conditions>
                        <condition id="-22" name="Else" sid="9846903300154003" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="6646475464358429">
                            <conditions>
                                <condition behavior="Platform" id="4" name="Is falling" sid="1280535801908496" type="player" />
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="8717964003118938" type="player">
                                    <param id="0" name="Animation">&quot;JumpDown&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2026329353758487">
                            <conditions />
                            <actions />
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="4826763326078585">
                    <conditions>
                        <condition behavior="Platform" id="5" name="On jump" sid="9645992998252932" type="player" />
                    </conditions>
                    <actions>
                        <action id="4" name="Set animation" sid="2208950810435449" type="player">
                            <param id="0" name="Animation">&quot;Jump&quot;</param>
                            <param id="1" name="From">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="705772945378927" title="Player controlls">
            <sub-events>
                <event-block sid="5431687572431608">
                    <conditions>
                        <condition id="2" name="Key is down" sid="1694791133075243" type="Keyboard">
                            <param id="0" name="Key">65 (A)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="1571192706685998" type="player">
                            <param id="0" name="Control">0</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="8460181882998895" type="player">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="4484860736370137">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="8022252154579128" type="player">
                                    <param id="0" name="Instance variable">directionX</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="5099990969868358" type="player">
                                    <param id="0" name="Instance variable">directionX</param>
                                    <param id="1" name="Value">-1</param>
                                </action>
                                <action id="-9" name="Set value" sid="7262543353079461" type="System">
                                    <param id="0" name="Variable">holdTimer</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="7526016820464048">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="5541559284633997" type="System">
                                    <param id="0" name="Variable">following</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1797283174624747">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="5680745470845856" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="3836615800872997" type="System">
                                            <param id="0" name="Variable">following</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="9873812678537901" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="586092887272746">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="6547312204677498" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="9016880594628699" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Value">dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9512615577528772">
                            <conditions>
                                <condition id="-22" name="Else" sid="9138543734963388" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="2255321963585991">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="3128673897636437" type="System">
                                            <param id="0" name="Variable">holdTimer</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="44279511022913" type="System">
                                            <param id="0" name="Variable">following</param>
                                            <param id="1" name="Value">-1</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="2306783365541715" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="2523107406777087">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="90815686044984" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="7113547082196961" type="System">
                                            <param id="0" name="Variable">holdTimer</param>
                                            <param id="1" name="Value">dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="736422497680356">
                    <conditions>
                        <condition id="2" name="Key is down" sid="6694645273403699" type="Keyboard">
                            <param id="0" name="Key">68 (D)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="4380724256690375" type="player">
                            <param id="0" name="Control">1</param>
                        </action>
                        <action id="7" name="Set mirrored" sid="6216102423190629" type="player">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="5774917009554871">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="1925579335887348" type="player">
                                    <param id="0" name="Instance variable">directionX</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="1197720716932573" type="player">
                                    <param id="0" name="Instance variable">directionX</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="1139693710357723" type="System">
                                    <param id="0" name="Variable">holdTimer</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4392779269473022">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="2450253698115665" type="System">
                                    <param id="0" name="Variable">following</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">-1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1698920036090429">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="3422811822520439" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="9258433554965614" type="System">
                                            <param id="0" name="Variable">following</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="9214580929391451" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="2081362196435716">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="6027844125122484" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="4207030012200324" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Value">dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="1643396745122035">
                            <conditions>
                                <condition id="-22" name="Else" sid="612374175308022" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="7576631360480031">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="2814095523107969" type="System">
                                            <param id="0" name="Variable">holdTimer</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="3996090552279797" type="System">
                                            <param id="0" name="Variable">following</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="9495102127673543" type="System">
                                            <param id="0" name="Variable">holdOpositeTimer</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="3838281512943649">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="260097795970921" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="5721042978650404" type="System">
                                            <param id="0" name="Variable">holdTimer</param>
                                            <param id="1" name="Value">dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="556230562398077">
                    <conditions>
                        <condition id="2" name="Key is down" sid="6735345792578249" type="Keyboard">
                            <param id="0" name="Key">16 (Shift)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="2" name="Set acceleration" sid="4394002229464377" type="player">
                            <param id="0" name="Acceleration">600</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="7413188432130777" type="player">
                            <param id="0" name="Max Speed">600</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="4007884866084037">
                    <conditions>
                        <condition id="-22" name="Else" sid="3521861719103087" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="2" name="Set acceleration" sid="8670812234025997" type="player">
                            <param id="0" name="Acceleration">300</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="1569317337790097" type="player">
                            <param id="0" name="Max Speed">500</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="1459494504203031">
            <conditions>
                <condition id="2" name="Key is down" sid="1042804695785424" type="Keyboard">
                    <param id="0" name="Key">32 (Space)</param>
                </condition>
            </conditions>
            <actions>
                <action behavior="Platform" id="7" name="Simulate control" sid="4323141178294995" type="player">
                    <param id="0" name="Control">2</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="9653236200225219">
            <conditions>
                <condition behavior="Platform" id="2" name="Is on floor" sid="2139819815249606" type="player" />
            </conditions>
            <actions>
                <action behavior="Platform" id="3" name="Set deceleration" sid="3554242986740438" type="player">
                    <param id="0" name="Deceleration">750</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="3399437578649167">
            <conditions>
                <condition id="-22" name="Else" sid="653821805099099" type="System" />
            </conditions>
            <actions>
                <action behavior="Platform" id="3" name="Set deceleration" sid="5435571665420639" type="player">
                    <param id="0" name="Deceleration">250</param>
                </action>
            </actions>
        </event-block>
    </events>
</c2eventsheet>
